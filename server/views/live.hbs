<html class="bg-wrapper live-bg">
<div class="container-live">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="panel panel-default panel-transparent">
            <div class="panel-heading">
                <h3>LIVE</h3>
            </div>
            <div class="panel-body">
                <div class="twitch-container">
                    <div id="twitch-embed">
                        <div id="live-resize-highlighter" hidden>
                        </div>
                    </div>
                </div>
                <h2 id="live-resize-info-text" hidden>Window is resizable</h2>
                <h2 id="live-mobile-info-text" hidden>On Mobile, tap to "pause" and then "play" again</h2>
                <h2>Live stats coming soon...</h2>
            </div>
        </div>
    </div>
</div>

<script src="https://player.twitch.tv/js/embed/v1.js"></script>

<script type="text/javascript">
    var embed = new Twitch.Player("twitch-embed", {
        width: 600,
        height: 340,
        channel: "overwatchleague"
    })
    // if mobile
    if (screen.width < 768) {
        $("#live-mobile-info-text").show();
        setTimeout(function () {
            $("#live-mobile-info-text").remove();
        }, 3000);
        // if not mobile
    } else {
        $("#live-resize-highlighter").show();
        $("#live-resize-info-text").show();
        setTimeout(function () {
            $("#live-resize-highlighter").remove();
            $("#live-resize-info-text").remove();
        }, 3000);
    }
    var twitchContainer = $(".twitch-container");
    if ($(window).width() > 640) {
        twitchContainer.height(370);
        twitchContainer.width(640);
    }
    window.onresize = resize;
    setInterval(function () {
        resize();
    }, 200);
    function resize() {
        w = twitchContainer.width();
        h = twitchContainer.height();
        embed.setWidth(w * .98);
        embed.setHeight(w * 9 / 16 * .98);
    }
</script>

</html>